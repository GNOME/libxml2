Wed Jul 22 16:47:14 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/gnome-config.c (_gnome_config_get_int_with_default):
	Used wrong sense in previous change.  Duh.
	(_gnome_config_get_float_with_default): Likewise.
	(_gnome_config_get_bool_with_default): Likewise.

	* libgnome/gnome-config.c (_gnome_config_get_int_with_default): It
	isn't an error if the key is not found.
	(_gnome_config_get_float_with_default): Likewise.
	(_gnome_config_get_bool_with_default): Likewise.
	(_gnome_config_get_translated_string_with_default): Removed legacy
	"C" locale code.

Sat Jul 18 20:18:57 1998  John Ellis  <johne@bellatlantic.net>

        * libgnome/gnome-dentry.[ch] (gnome_desktop_entry_load_unconditional):
        new function necessary for loading/editing 'broken' .desktop entries.

1998-07-17  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* configure.in: Added gnome-canvas-line and gnome-canvas-util to
	the sources.

1998-07-15  Raja R Harinath  <harinath@cs.umn.edu>

	* acconfig.h (NEED_DECLARATION_GETHOSTNAME): New tag.

	* configure.in (jpeglib.h): Undef a few more symbols to prevent
	preprocessor symbol clashes.  In this case, jpeglib.h defines
	HAVE_STDDEF_H and HAVE_STDLIB_H.

1998-07-14  Raja R Harinath  <harinath@cs.umn.edu>

	* configure.in (AM_PATH_GLIB): New test.
	(LIBGNOME_LIBS): List `-lglib' too.
	Based on suggestion from 
	Manish Vachharajani <mvachhar@vger.rutgers.edu>.

	* gnome-config.in: Make sure library ordering is preserved, when
	removing duplicates.

	* Makefile.am (AUTOMAKE_OPTIONS): Require automake 1.3.

1998-07-13  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (built_SUBDIRS): Add `test-suite'.

1998-07-12  Raja R Harinath  <harinath@cs.umn.edu>

	* configure.in (dlopen): Test directly for the function.
	(dlerror): Include $DL_LIB in $LIBS before testing.
	From James Michael Mastros <spare@jennifer-unix.dyn.ml.org>.

mar jul  7 10:13:44 ART 1998  Horacio J. Peña <horape@compendium.com.ar>

	* libgnomeui/gnome-client.h: Added gnome_client_save &
		gnome_client_restart_session.
	* libgnomeui/gnome-client.c: Added gnome_client_save &
		gnome_client_restart_session.

1998-07-06  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* configure.in: Added gnome-canvas-image files.

Tue Jul  7 00:01:19 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/gnome-parse.c: Don't include <malloc.h>.

Sun Jul  5 18:21:31 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/gnome-exec.h: Declare gnome_execute_async_with_env.
	* libgnome/gnome-exec.c (gnome_execute_async_with_env): New function.
	(gnome_execute_async): Use it.

1998-07-05  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* configure.in: Added gnome-canvas-text.[ch].

1998-07-04  Stuart Parmenter <pavlov@pavlov.net>

	* libgnomeui/gnome-mdi.c
	  (child_list_menu_remove_item): added a check
	    to see if the menu existed... this may not be a good idea, but since
	    gnome-mdi's documentation isn't all that, it made sense:)
	  (child_list_menu_add_item): same thing

1998-07-02  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/Makefile.am (dns_helper_LDADD): Cosmetic cleanups.

Tue Jun 30 16:12:55 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/gnome-config.c: Removed backwards-compatibility hack.
	(_gnome_config_get_translated_string_with_default): Handle
	language specs like `pt_PT@foo'.

	* libgnome/gnome-i18n.c: Include libgnomeP.h.
	* libgnome/gnome-help.c: Include gnome-i18nP.h, sys/wait.h.
	* libgnome/gnomelib-init.c: Include gnome-i18nP.h.
	* libgnome/gnome-mime.c: Include libgnomeP.h.
	* libgnome/gnome-config.c: Include libgnomeP.h.
	* libgnome/Makefile.am (noinst_HEADERS): Added libgnomeP.h.
	* libgnome/libgnomeP.h: New file.

1998-06-29  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/gnome-config.c (gnome_config_pop_prefix,
	gnome_config_remove_prefix_list): Removed.  If any application
	relied on this stuff it was broken.  That is what push/pop prefix
	are for. 

Mon Jun 29 00:18:10 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/gnome-config.c (_gnome_config_set_float): Use %.17g
	format, to ensure full precision.

1998-06-28  Raja R Harinath  <harinath@cs.umn.edu>

	New, improved, gnome-config script. (Not related to
	libgnome/gnome-config.[ch]).
	* Makefile.am (gnome-config): Move generation to ...
	* configure.in (AC_SUBST): ... here.
	(GNOME_LIBDIR,GNOME_INCLUDEDIR): Use ${..}, not $(..) for variable
	substitution. 
	* gnome-config.in: Rehaul.

1998-06-26  Nuno Ferreira  <nmrf@rnl.ist.utl.pt>

	* configure.in (ALL_LINGUAS): Added Poruguese translation.

Thu Jun 18 23:52:07 1998  George Lebl  <jirka@5z.com>

	* libgnome/gnome-config.[ch]: made it possible to call, set and
	  sync handlers, this is usefull for autosyncing that can be
	  done in libgnomeui .. or any toolkit specific lib

Thu Jun 18 00:24:21 1998  George Lebl  <jirka@5z.com>

	* libgnome/gnome-config.[ch]: added two calls, _remove_prefix_list
	  and _set_prefix_list, these functions can be used by routines
	  which want to set it's own prefix stack, but don't wanna corrupt
	  the prefix stack for the rest of the application.

	* libgnome/gnome-i18n.c: added #include <string.h>

Tue Jun 16 15:24:46 1998  Havoc Pennington  <hp@pobox.com>

	* libgnome/gnome-util.h, gnome-util.c (gnome_dirrelative_file):
	make char * args const.
	(gnome_datadir_file, gnome_libdir_file, gnome_pixmap_file,
	gnome_unconditional_pixmap_file, gnome_unconditional_libdir_file, 
	gnome_unconditional_datadir_file): const char *
	(g_filename_pointer): Return a pointer to the last part of a
	path. Maybe this should replace g_filename_index.
	(g_extension_pointer): Return a pointer to the filename extension.
	(g_copy_vector): Copy char **. const isn't right, needs fixing.
	(g_flatten_vector): Make a vector into a single string.
	(g_is_image_filename): Determine if a filename's extension
	suggests an image file.

	* libgnome/gnome-dentry.h, gnome-dentry.c
	(gnome_is_program_in_path): put const on the char * arg. Shouldn't
	this function go in gnome-util?
	(gnome_desktop_entry_load): const char *
	(gnome_desktop_entry_load_flags): const char *
	(gnome_desktop_entry_copy): copy the struct. I guess I didn't end
	up using this, but here it is anyway.
	
Sun Jun 14 18:03:14 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/gnome-exec.c (gnome_execute_async): Removed redundant
	exit (report_errno never returns).  Set errno after waitpid, not
	before it.
	(gnome_execute_shell): Added cast to avoid warning.

Sun Jun 14 19:16:00 1998  Manish Vachharajani <mvachhar@vger.rutgers.edu>

	* libgnome/gnome-exec.c gnome_execute_async: We need to call
	waitpid, even on failure, since if the second child fails to exec,
	the first will become a zombie until the SIGCHLD is handled via
	waitpid.  Also, if the second child fails to exec, exit, don't
	fall through.

Sun Jun 14 13:33:50 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/Makefile.am (INCLUDES): Look in ../intl.  Don't look in
	../support (the need for this is discovered by configure).

Sun Jun 14 09:34:36 1998  Dick Porter  <dick@cymru.net>

	* configure.in tweak for libgif

Thu Jun 11 09:55:25 1998  Radek Doulik  <gis@academy.cas.cz>

	* libgnome/gnome-help.h: added GNOME_DECLS
	* libgnome/gnome-string.h: added GNOME_DECLS

1998-06-11  Raja R Harinath  <harinath@cs.umn.edu>

	* configure.in: Remove stuff relating to `build_CC'. 

Wed Jun 10 19:24:07 PDT 1998 Manish Singh <yosh@gimp.org>

	* changed things to use GTK_HAVE_ACCEL_GROUP instead of
	HAVE_DEVGTK... installed headers depending on config.h
	stuff is bad.

Wed Jun 10 14:19:39 EDT 1998 Gregory McLean <gregm@comstar.net>

	* YES! gnome-libs as a whole now compiles against gtk 1.0.x (on my
	  machine atleast) Now I hope I can get back to work.

Wed Jun 10 00:47:12 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/gnome-parse.c (our_options): New global.
	(help_parser): New global.
	(gnome_parse_arguments): Register help_parser.
	(GROUP): New define.

Tue Jun  9 22:55:20 EDT 1998 Gregory McLean <gregm@comstar.net>

	* macros/gnome-x-checks.m4: quick and dirty check for devel gtk and
	  define HAVE_DEVGTK if its found. This should save us a bunch of
	  work next time we go to do a release we won't have to chase
	  around code that only works on the devel version of gtk.
	* libgnomeui/* bracketed all code that requires the devel branch of
	  gtk.. I think I got it all.
	* acconfig.h : new tag HAVE_DEVGTK, use this to mark your changes that
	  require the dev branch of gtk.

1998-06-09  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* Makefile.am (built_SUBDIRS): Added test-gnome to the list of directories.

Tue Jun  9 02:30:36 PDT 1998 Manish Singh <yosh@gimp.org>

	* configure.in: redid graphics lib checks

1998-06-08  Jim Pick  <jim@jimpick.com>

	* Added debian packaging dir.

Mon Jun  8 22:49:28 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/gnome-exec.c (gnome_execute_shell): Free element of
	argv.

Mon Jun  8 20:46:40 EDT 1998 Gregory McLean <gregm@comstar.net>

	* libgnomeui/gtkdial.c: removed some dead code bloat :)

Mon Jun  8 19:13:50 1998  Havoc Pennington  <hp@pobox.com>

	* libgnome/gnome-util.h, gnome-util.c (g_filename_index): 
	Get the starting index of the last component of a path. 
	Sort of the reverse of g_concat_dir_and_file.
	
1998-06-08  Martin Baulig  <martin@home-of-linux.org>

	* configure.in: Added some stuff for cross-compiling.

	* gnomeConf.sh.in (need_gnome_support): New tag.

1998-06-07  Stuart Parmenter <pavlov@innerx.net>

	* libgnomeui/gnome-dialog.[ch]: changes to make it use GtkAccelGroup
	  functions, i.e. making it compile :)
	* libgnomeui/gnome-stock.c: same thing
	* libgnomeui/stock-demo.c: same thing
	* libgnomeui/*: same thing :)

1998-06-01  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/gnome-dentry.c (gnome_desktop_entry_destroy): Remove
	references to the gnome-config entry when discarding a
	gnome-dentry and release the memory associated with the
	GnomeDesktopEntry. 

Mon Jun  1 13:23:26 1998  Havoc Pennington  <hp@pobox.com>

	* libgnome/gnome-exec.h, gnome-exec.c (gnome_execute_async):
 	 Change arg 3 to char * const argv[] to match execvp	
	(gnome_execute_shell): New function. Like system(), but
 	backgrounds the process and uses the user's shell.

1998-05-25  Marc Ewing  <marc@germ.labs.redhat.com>

	* libgnome/gnome-help.c (gnome_help_goto): make sure
	the help browser process lives on.

Sat May 23 12:24:39 1998  George Lebl  <jirka@5z.com>

	* libgnome/gnome-dentry.c: fixed two small bugs in the launch
	  stuff.

Fri May 22 18:24:09 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/gnome-util.c (g_file_exists): `filename' argument now
	const.

	Some -Wall fixes:
	* libgnome/lib_date.c: Include <stdio.h> for sprintf.
	* libgnome/gnome-triggers.c (gnome_triggers_add_trigger): Removed
	unused variable.
	(gnome_triggers_do): Likewise.
	* libgnome/gnome-dentry.c (gnome_desktop_entry_launch_with_args):
	Removed unused variable.
	* libgnome/gnome-config.c: Declare strndup if required.

	* libgnome/gnome-dentry.c (gnome_desktop_entry_launch_with_args):
	Use `SHELL -c' to execute command.

	* libgnome/gnome-util.c (gnome_util_user_shell): New function;
	modified from gnome-terminal.
	* libgnome/gnome-util.h: Declare gnome_util_user_shell.

1998-05-20  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* libgnome/gnome-dentry.h: Added prototype for gnome_desktop_entry_launch_with_args().

1998-05-20  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/gnome-config.c (gnome_config_make_vector,
	gnome_config_assemble_vector): export the routines that make a
	vector out from a string and the routine that assembles a vector
	into a string.  We need them outside as well.

1998-05-19  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/gnome-dentry.c (gnome_desktop_entry_launch_with_args):
	New function.  Allows to launch a dentry with optional extra
	arguments.  In the future we should probably scan ->exec vector
	for ocurrences of '%f' and relpace that with the argumnets.  For
	now, we just appendm them.

	* libgnome/gnome-config.c (_gnome_config_get_vector_with_default):
	Set the entire argvp array to NULL.  
	Count correctly the number of arguments.

1998-05-19  Raja R Harinath  <harinath@cs.umn.edu>

	* acconfig.h (HAVE_SYS_ERRLIST): New tag.

Tue May 19 14:42:32 1998  George Lebl  <jirka@5z.com>

	* libgnome/gnome-config.c: (escape_string_and_dup) fixed a segfault

1998-05-19  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/gnome-dentry.c (gnome_desktop_entry_free): We were
	leaking item->geometry.

	* configure.in (GLIB_LIBS): use the correct glib depending on what
	is installed.  Bug reported by Mark Galassi.  Thanks to Owen for
	suggesting the proper approach to this. 

1998-05-18  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/gnome-dentry.c (gnome_desktop_entry_free): Do not free
	item->exec as the gnome_string_arry_free already freed that.
	
Mon May 18 14:10:42 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/gnome-config.c (_gnome_config_set_vector): Also quote
	`\' characters.
	(_gnome_config_get_vector_with_default): Don't duplicate result of
	access_config.  Allocate each element of array separately.

1998-05-18  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/gnome-config.c (_gnome_config_get_vector_with_default):
	Fix the routine.  Simplify the parsing code with a slicker
	routine.  This should fix the panel problems, at least it works
	for me.
	
1998-04-30  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/gnome-util.c (g_copy_strings): Put back optimized and
	non-leaking copy_strings. 
Sat May 16 00:44:21 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/gnome-string.c: Removed dead check for delim==NULL.

	* libgnome/gnome-dentry.c (gnome_desktop_entry_launch): Look up
	desired terminal program in config database.

	* libgnome/gnome-i18n.c (LANGKEY): Changed value.

	* libgnome/gnome-dentry.c (gnome_desktop_entry_load_flags): Treat
	"Exec" entry as a vector.
	(gnome_desktop_entry_save): Likewise.
	(gnome_desktop_entry_free): Likewise.
	(gnome_desktop_entry_launch): Likewse.  Also use
	gnome_execute_async.
	* libgnome/gnome-dentry.h (GnomeDesktopEntry): Added `exec_length'
	member.  `exec' member now a `char**'.
	* libgnome/libgnome.h: Include gnome-exec.h.
	* libgnome/Makefile.am (libgnome_la_SOURCES): Added gnome-exec.c.
	(libgnomeinclude_HEADERS): Added gnome-exec.h.
	* libgnome/gnome-exec.h: New file.
	* libgnome/gnome-exec.c: New file.

	* libgnome/gnome-config.c (_gnome_config_get_vector_with_default):
	If no value available, set *argvp to NULL.

1998-05-14  Raja R Harinath  <harinath@cs.umn.edu>

	* libgnome/gnome-i18n.c (gnome_i18n_init): It is not safe to pass
	an `auto' variable to `putenv'.

1998-05-13  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* configure.in: When checking for libtiff link conftest against
	Z_LIBS and JPEG_LIBS. Check failed for me otherwise.
	
Wed May 13 13:34:10 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/gnome-i18n.h: Declare new functions.
	* libgnome/gnome-i18n.c (LANGKEY): New macro.
	(gnome_i18n_set_preferred_language): New function.
	(gnome_i18n_init): Likewise.
	(gnome_i18n_get_preferred_language): Likewise.
	(guess_category_value): Return NULL as default domain.
	(gnome_i18n_get_language_list): Handle NULL return from
	guess_category_value.
	* libgnome/gnomelib-init.c (gnomelib_init): Call gnome_i18n_init().

Sat May  9 20:25:49 1998  Szekeres István  <szekeres@cyberspace.mht.bme.hu>

	* libgnome/gnome-string.c (gnome_string_join):
	Pass terminator NULL to gnome_string_joinv so it will not sigsegv


Wed May  6 13:16:14 1998  Tom Tromey  <tromey@cygnus.com>

	* configure.in: Check for sys/select.h.

1998-04-29  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* libgnome/gnome-config.c
	(_gnome_config_get_translated_string_with_default): Added fallback
	mechanism to read old files that did have the [C] suffix on
	translated strings.

	* libgnome/gnome-config.c (_gnome_config_set_translated_string):
	If the language is the default "C", we don't want to write the [C]
	suffix to the file.  This is so that this function will work in
	pairs with gnome_config_get_translated_string().

1998-04-29  Tristan Tarrant  <ttarrant@etnoteam.it>

	* configure.in: add checks for forkpty

1998-04-27  Michael Fulbright  <msf@redhat.com>

        * libgnome/gnome-help.c (gnome_help_file_find_file):
	  strip off last '#' in the requested path, since most help
	  requests are going to be URLs.
	
	* libgnome/gnome-help.c (gnome_help_display):
	  use gnome_help_file_find_file() function

	* libgnomeui/gnome-app-helper.c (gnome_app_add_help_menu_entries):
	  use gnome_help_file_find_file() function to find topic.dat


1998-04-27  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* libgnome/gnome-help.c (gnome_help_file_find_file): Changed to
	look for more than one language.
	(gnome_help_file_path): Changed to use
	gnome_help_file_find_file. If no file is found, than return a
	value like in former times.

	* libgnome/gnome-config.c
	(_gnome_config_get_translated_string_with_default): Changed to
	look for more than one language.
	(_gnome_config_set_translated_string): Changed to support language 
	lists.

	* libgnome/gnome-i18n.c (guess_category_value): New function.
	(gnome_i18n_get_language_list): New function.

	* libgnome/gnome-i18n.h: Added gnome_i18n_get_language_list, that
	returns a list of languages, depending on the users environment.

	* libgnome/gnome-i18nP.h: Likewise.

1998-04-27  Michael Fulbright  <msf@redhat.com>

	* libgnome/gnome-help.c (gnome_help_file_find_file):
	  A new function which is similar to gnome_help_file_path(), except
	  that if the desired file is not found in the default locale,
	  the 'C' locale is also searched. The gnome_help_*
	  code may need to be rethought when handling i18n issues.

Sat Apr 25 23:29:54 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* libgnome/gnome-config.c (_gnome_config_get_vector_with_default):
	  escaped spaces have to get unescaped after reading.

1998-04-21  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/gnome-config.c (gnome_config_get_string_with_default):
	Added ultra-nasty binary compatibility hack for those hackers
	without dual-p2 machines so that they dont have to recompile
	everything.  This will be gone soon.

Thu Apr 23 01:53:44 1998  George Lebl  <jirka@5z.com>

	* libgnome/gnome-config.c: added some missing compatibility
	  functions.

Tue Apr 21 15:23:58 1998  George Lebl  <jirka@5z.com>

	* libgnome/gnome-config.h: added gnome_config_get_real_path
	  and gnome_config_private_get_real_path macros, that
	  return the real path of a file in the config dir

Tue Apr 21 14:30:25 1998  George Lebl  <jirka@5z.com>

	* libgnome/gnomelib-init.c: create .gnome_private and
	  set mode to 0700 on every initialization, added
	  gnome_user_private_dir constant

	* libgnome/libgnome.c: add gnome_user_private_dir extern
	  declaration

	* libgnome/gnome-config.[ch]: made parse_path use either
	  private or normal path, and made defines for source
	  compatibility to new functions which have one more
	  argument which is gint priv, added gnome_config_private
	  defines to these functions that use the private directory

Mon Apr 20 23:38:55 1998  George Lebl  <jirka@5z.com>

	* libgnome/gnome-config.c: made it check for the entire
	  path first as a special case so that it doesn't end
	  up walking though the entire path if it exists

Mon Apr 20 22:41:44 1998  George Lebl  <jirka@5z.com>

	* libgnome/gnome-config.c: new function check_path
	  called before a file is opened for writing,
	  it will try to check if a the directory exists
	  and create it if neccessary. needs a bit of
	  a bit of optimization maybe and uses 755 by default
	  now which probably should be either 700 or specified
	  by user.

1998-04-16  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/gnome-dentry.c (gnome_is_program_in_path): Return the
	full pathname for the program if it is found on the path. 
	(gnome_desktop_entry_load_flags): Free the pathname according to
	the new convention.

Sun Apr 19 09:38:36 EDT 1998 Gregory McLean <gregm@comstar.net>

        * rasterapi/.cvsignore: added to ignore generated files.

Mon Apr 13 22:14:11 1998  George Lebl  <jirka@5z.com>

	* configure.in: make Makefile in libgnomeui/pixmaps

1998-04-13  Raja R Harinath  <harinath@cs.umn.edu>

	* libgnome/gnome-help.c (gnome_help_file_path): Be more
	`const'-correct. 

1998-04-12  Raja R Harinath  <harinath@cs.umn.edu>

	Introduce `gnomesupport.h'.
	* configure.in (SUPPORTINCS): Define NEED_GNOMESUPPORT_H if
	`libgnomesupport' is built.
	(GNOME_INCLUDEDIR): Likewise.  Also, use $(pkglibdir)/include
	instead of $(includedir)/libgnomesupport.  (See support/ChangeLog.)

	* gnome.h: Include `gnomesupport.h' if NEED_GNOMESUPPORT_H is
	defined.  This should make `gnomesupport.h' pretty transparent.

Mon Apr  6 00:05:34 1998  Havoc Pennington  <hp@pobox.com>

	* libgnome/gnome-i18nP.h: new file
	* libgnome/gnome-i18n.h: #warning if used together with
	gnome-i18nP.h
	* libgnome/Makefile.am: noinst_HEADERS = gnome-i18nP.h

Sat Apr 04 12:12:47 1998  George Lebl  <jirka@5z.com>

	* libgnome/gnome-config.c: do init on functions that
	  previously errored out with "called before init"

1998-03-31  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/lib_date.c, lib_date.h, lib_defs.h, lib_date.README:
	Added the lib_date routines from Steffen Beyer. 

Sat Mar 28 19:28:48 MST 1998 Nathan Summers <rock@gimp.org>

	* libgnome/gnome_dl.c: changed lib_path to libpath in the hpux code

Tue Mar 24 00:39:36 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (DISTCLEANFILES): Removed.

Thu Mar 19 18:57:05 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/gnome-parse.h: Added copyright info.
	* libgnome/gnome-parse.c: Likewise.

	* libgnome/gnome-history.c (gnome_history_recently_used): Changed
	interface.
	Added copyright info.
	* libgnome/gnome-history.h: Added comments, updated
	gnome_history_recently_used decl.
	Added copyright info.

Wed Mar 18 20:33:30 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/gnome-dentry.c (gnome_desktop_entry_save): Save the
	geometry field of the gnome-dentry.

Tue Mar 17 21:34:35 1998  George Lebl  <jirka@5z.com>

	* libgnomeui/gtk-{plug,socket}.[ch]: added Owen's plugsocket
	  code to libgnomeui

Sun Mar 15 15:24:41 1998  Owen Taylor  <owt1@cornell.edu>

	* Makefile.am configure.in gnomeConf.sh.in: 
	Add GTK_CFLAGS to GNOME_INCLUDEDIR, and GTK_LIBS to the
	approriate *LIBS variables.

	* libgnome/Makefile.am libgnomeui/Makefile.am: 
	Added GTK_CFLAGS to INCLUDES

Tue Mar 10 11:58:38 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/gnome-parse.h: Just look for <argp.h>.

Mon Mar  9 20:37:56 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/gnome-parse.h: Add BEGIN_GNOME_DECLS and
	END_GNOME_DECLS: they are *required* for C++ compilation.

Sun Mar  8 17:15:17 1998  Tom Tromey  <tromey@cygnus.com>

	* version.h.in: Removed.
	* configure.in: Don't create version.h.

	* libgnome/Makefile.am (INCLUDES): Added @SUPPORTINCS@.

	* configure.in (SUPPORTINCS, LIBSUPPORT): New defines.
	(GNOME_LIBS): Include -lgnomesupport if required.
	(GNOME_INCLUDEDIR): Include -I for libgnomesupport if required.

	* gnomeConf.sh.in (GNOME_INCLUDEDIR, GNOMELIBDIR): Quote values.

Fri Mar  6 21:42:09 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/libgnome.h: Include gnome-parse.h.

Fri Mar 06 20:31:13 1998  George Lebl  <jirka@5z.com>

	* libgnome/gnome-dentry.c: fixed the _load function to always set
	  ->icon, at least to NULL, this was causing the panel to segfault

Wed Mar  4 01:06:58 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/libgnome.h (gnomelib_register_arguments): Declare.
	* libgnome/gnomelib-init.c (gnomelib_register_arguments): New
	function.

	* libgnome/Makefile.am (libgnome_la_SOURCES): Added
	gnome-parse.c.
	(libgnomeinclude_HEADERS): Added gnome-parse.h.
	* libgnome/gnome-parse.h: New file.
	* libgnome/gnome-parse.c: New file.

	* libgnome/gnomelib-init.c (gnomelib_init): Removed argc, argv
	arguments.
	* libgnome/libgnome.h (gnomelib_init): Likewise.

	* acconfig.h (HAVE_PROGRAM_INVOCATION_SHORT_NAME,
	HAVE_PROGRAM_INVOCATION_NAME): Added.

1998-02-28  Raja R Harinath  <harinath@cs.umn.edu>

	* libgnome/gnome-config.c (dump_sections): Don't crash if
	p->section_name == NULL.
	(*): Use `g_strdup' and `g_free' uniformly, throughout.

Sat Feb 28 15:46:51 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>
	
	* libgnome/gnome-config.c (parse_path): Reverse Raja Harinath's
	change that used "" instead of NULL.  

	If we use NULL here, the gnome-config-get-string routines can
	distinguish between:

		- NULL if they key was non-existant.
		- "" if the key had an empty value.
	
Thu Feb 26 21:12:26 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/gnome-util.c (gnome_dirrelative_file): Check inside the
	user relative home directory for more files. 

1998-02-26  Mark Galassi  <rosalia@cygnus.com>

	* devel-docs/libgnomeui.sgml, devel-docs/libgnome.sgml:
	added PSGML file option comments with a "parent document".  This
	makes it easier for emacs to load the subdocuments.

1998-02-28  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* libgnome/gnome-dentry.c (get_translated_string): Due to the
 	changes in libgnome/gnome-config.c (parse_path), empty strings
 	instead of the untranslated strings have beed returned, if a
 	translated string was not available. This is fixed now.

Thu Feb 26 18:08:15 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/gnome-dentry.c, libgnome/gnome-dentry.h: Dropped the
	computed icon filenames, things will be scaled now by the panel. 

	* libgnome/gnome-dentry.c (gnome_desktop_entry_load_flags): More
	fields; a new parameter that avoids dumping the loaded
	information. 

1998-02-25  Raja R Harinath  <harinath@cs.umn.edu>

	* libgnome/gnome-config.c (parse_path): Use "" instead of NULL.

Wed Feb 25 20:16:13 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/gnome-dentry.c (gnome_desktop_entry_load): Drop known
	information on a dentry after loading.

	Add more fields.

1998-02-25  Raja R Harinath  <harinath@cs.umn.edu>

	* configure.in: Clean up the handling of {Z,PNG,JPEG,TIFF,GIF}_LIBS,
	and their interaction with {GDK_IMLIB,GNOMEUI,GTKXMHTML}_LIBS.
	(AC_SUBST): Remove {Z,PNG,JPEG}_LIBS.

Tue Feb 24 20:01:42 1998  Maciej Stachowiak  <mstachow@mit.edu>

	* configure.in: Added checks for libraries that gdk_imlib depends
 	on, since libgnomeui now depends on libgdk_imlib. This is needed
 	for the libraries and demos (and probably other apps) to build
 	properly.

1998-02-23  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome.h: Added #include <gdk_imlib.h>, as it is now required for
	all of Gnome.

1998-02-23  Mark Galassi  <rosalia@nis.lanl.gov>

	* configure.in (LIBGNOMEUI_LIBS):
	(GNOMEUI_LIBS): added $Z_LIBS to both of these, sine gdk_imlib
	might require them, and gdk_imlib is now always linked in
	libgnomeui.

1998-02-23  Marc Ewing  <marc@redhat.com>

	* libgnomeui/gnome-app-helper.{c,h}: added radio and check/toggle
	button support, for both menus and toolbars.  Also added two
	new fields to the struct _GnomeUIInfo: user_data - is used as the
	data parameter to the gtk_signal_connect() call for each item,
	and unsed_data which should always be NULL.  Previously the
	data paramenter to gtk_signal_connect() came from the data
	parameters to the *_interp() and *_with_data(), which was less
	than optimal.

	* libgnomeui/gnome-font-selector.c: Changes to support above.

1998-02-23  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* libgnome/gnome-dl.c: 
	* libgnome/gnome-help.c: #include <string.h>

	* configure.in (ALL_LINGUAS): Added "it" to ALL_LINGUAS

1998-02-19  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* libgnome/gnome-score.h: Added missing #include <glib.h>

1998-02-20  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* libgnome/gnome-mime.c: Now includes 'libgnome.h' and 'gtk/gtk.h'
 	instead of 'gnome.h'. This removes the dependence from
 	'libgnomeui.h'.

	* devel-docs/.cvsignore: Added 'Makefile' and 'Makefile.in'.

	* configure.in (ALL_LINGUAS): Added german translations.

1998-02-19  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* libgnome/gnomelib-init.c (gnomelib_init): Added app_id parameter
	to this function.  Changes to the rest of Gnome are in progress.

Wed Feb 18 09:25:38 ART 1998  Horacio J. Peña  <horape@compendium.com.ar>

	* devel-docs/Makefile.am: new.
	* devel-docs/libgnome*.sgml: new.
	* devel-docs/gdoc/: new dir.
	* README: added licensing info for gtk-xmhtml and libgtktty.
	* devel-docs/gnome-dev-info.sgml: splited. (now the libgnome(ui)? 
	  chapters are independant files.
	* libgnomeui/gnome-about.h: Documented.
	* libgnomeui/{almost_all}.h: Added #include <libgnome/gnome-defs.h>

Tue Feb 17 23:37:50 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* libgnome/gnome-dentry.c (gnome_desktop_entry_load): Provide a
	default for the Terminal entry. 

Mon Feb 16 13:13:19 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnome/gnome-config.c (gnome_config_get_vector_with_default):
	Don't include space separator at start of a vector element.

Sat Feb 14 00:35:54 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (confexecdir): Renamed.
	(confexec_DATA): Likewise.

	* configure.in (GNOME_LIBDIR, GNOME_INCLUDEDIR): Define to be
	expanded in make.
	(AC_OUTPUT): Don't create gnomeConf.sh.
	* Makefile.am (release): Fixed typo.
	(gnomeConf.sh): New target.

1998-02-13  Raja R Harinath  <harinath@cs.umn.edu>

	* configure.in (GNOME_INCLUDEDIR): Include `-I'.
	(GNOME_LIBDIR): Include `-L'.

	* autogen.sh: Moved most of the stuff to `macros/autogen.sh'.

	* Makefile.am (SUBDIRS): Add macros.
	(macros/macros.dep): New maintainer rule for handling automatic
	rebuilding of aclocal.m4 if any of the macros in `macros/' change.

	* configure.in (AC_OUTPUT): Generate macros/Makefile too.

1998-02-12  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* libgnomeui/gnome-app.c (gnome_app_configure_positions): Fixed
	bug where it would sigsegv if the app had a toolbar but no menubar.
	(gnome_app_new): Removed unused variable prefix.
	Removed unused prototype for gnome_app_rightclick_event.
	(gnome_app_rightclick_menubar): Removed unused variable i.
	(gnome_app_rightclick_toolbar): Likewise.
	(gnome_app_set_menus): Fixed uninitialized variable warnings.
	(gnome_app_rightclick_menubar): gtk_menu_popup time parameter set
	to event->time.  This makes the popup timer work correctly.
	(gnome_app_rightclick_toolbar): Likewise.

1998-02-12  Raja R Harinath  <harinath@cs.umn.edu>

	* configure.in (GNOME_LIBDIR,GNOME_INCLUDEDIR): New configuration
	variables used in `gnomeConf.sh'.
	* gnomeConf.sh.in (GNOME_LIBDIR,GNOME_INCLUDEDIR): Moved here from
	the `install-data-local' rule.

	* Makefile.am (SUBDIRS): Add `support'.
	(install-data-local): Remove.

1998-02-10  Raja R Harinath  <harinath@cs.umn.edu>

	* HACKING: Added a note about `aclocal' and the `macros' subdir. 

	* autogen.sh: Run `aclocal -I macros' if macros subdir exists.

	* configure.in: Moved AC_GNOME_CHECK and AC_GNOME_X_CHECKS to
	macros subdir (as gnome.m4 and gnome-x-checks.m4 resp.).
